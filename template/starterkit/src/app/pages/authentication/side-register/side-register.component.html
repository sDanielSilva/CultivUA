<div class="blank-layout-container justify-content-center">
    <div class="auth-wrapper">
        <div class="position-relative shaper-wrapper">
            <div class="w-100 position-relative rounded bg-white auth-card">
                <div class="auth-body">
                    <a [routerLink]="['/landingpage']" class="m-t-20 d-flex">
                        <img
                            src="./assets/images/logos/dark-logo-antigo.svg"
                            class="align-middle m-2"
                            alt="logo"
                        />
                    </a>
                    <div class="row">
                        <div class="col-lg-6">
                            <div
                                class="align-items-center justify-content-center d-none d-lg-flex"
                            >
                                <img
                                    src="/assets/images/backgrounds/login3-bg.png"
                                    alt="login"
                                    style="max-width: 500px"
                                />
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div
                                class="d-flex align-items-start align-items-lg-center justify-content-center"
                            >
                                <div class="row justify-content-center w-100">
                                    <div class="col-lg-11">
                                        <h4 class="f-w-700 f-s-30 lh-base m-0">
                                            Welcome to Cultiv<span
                                                style="color: #009a3e"
                                                >UA</span
                                            >!
                                        </h4>
                                        <span
                                            class="f-s-14 d-block mat-body-1 m-t-8"
                                            >Where taking care of plants has never been so easy.</span
                                        >

                                        <form
                                            class="m-t-30"
                                            [formGroup]="form"
                                            (ngSubmit)="submit()"
                                        >
                                            <mat-label
                                                class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block"
                                                >Username</mat-label
                                            >
                                            <mat-form-field
                                                appearance="outline"
                                                class="w-100"
                                                color="primary"
                                            >
                                                <input
                                                    matInput
                                                    formControlName="username"
                                                />
                                                <mat-error
                                                    class="m-b-16 error-msg"
                                                    *ngIf="
                                                        f['username'].touched &&
                                                        f['username'].invalid
                                                    "
                                                >
                                                    <div
                                                        *ngIf="f['username'].errors?.['required']"
                                                    >
                                                    The 'Username' field is required.
                                                    </div>
                                                    <div
                                                        *ngIf="f['username'].errors?.['minlength']"
                                                    >
                                                    Username must be at least 6 characters long.
                                                    </div>
                                                </mat-error>
                                            </mat-form-field>

                                            <!-- email -->
                                            <mat-label
                                                class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block"
                                                >E-mail</mat-label
                                            >
                                            <mat-form-field
                                                appearance="outline"
                                                class="w-100"
                                                color="primary"
                                            >
                                                <input
                                                    matInput
                                                    type="email"
                                                    formControlName="email"
                                                />
                                                <mat-error
                                                    class="m-b-16 error-msg"
                                                    *ngIf="
                                                        f['email'].touched &&
                                                        f['email'].invalid
                                                    "
                                                >
                                                    <div
                                                        *ngIf="f['email'].errors?.['required']"
                                                    >
                                                    The 'E-mail' field is required.
                                                    </div>
                                                    <div
                                                        *ngIf="f['email'].errors?.['email']"
                                                    >
                                                    Please enter a valid e-mail.
                                                    </div>
                                                </mat-error>
                                            </mat-form-field>

                                            <mat-label
                                                class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block"
                                                >Password</mat-label
                                            >
                                            <mat-form-field appearance="outline" class="w-100" color="primary">
                                                <input
                                                    matInput
                                                    [type]="hidePassword ? 'password' : 'text'"
                                                    formControlName="password"
                                                />
                                                <button
                                                    mat-icon-button
                                                    matSuffix
                                                    type="button"
                                                    aria-label="Alternar visibilidade da palavra-passe"
                                                    (click)="togglePasswordVisibility()"
                                                >
                                                    <mat-icon>{{ hidePassword ? "visibility_off" : "visibility" }}</mat-icon>
                                                </button>
                                                <mat-error *ngIf="f['password'].touched && f['password'].invalid">
                                                    <div *ngIf="f['password'].errors?.['required']">
                                                        The 'Password' field is required.
                                                    </div>
                                                    <div *ngIf="f['password'].errors?.['minlength']">
                                                        The password must be at least 8 characters long.
                                                    </div>
                                                </mat-error>
                                            </mat-form-field>
                                            

                                            <br /><br />
                                            <!-- O botão sempre visível, mas desativado se o formulário não for válido -->
                                            <button
                                                mat-flat-button
                                                color="primary"
                                                class="w-100"
                                                [disabled]="form.invalid"
                                                type="submit"
                                            >
                                                Sign Up
                                            </button>
                                        </form>

                                        <span
                                            class="d-block f-w-500 d-block m-t-24"
                                            >Already have an account?

                                            <a
                                                [routerLink]="['/login']"
                                                class="text-decoration-none text-primary f-w-500 f-s-14" style="color: green!important;"
                                            >
                                            Login</a
                                            >
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
